<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="manifest" href="manifest.json">
    <style>
    /* Абсолютный запрет на границы */
* { 
    border: 0 !important; 
    border-width: 0 !important;
    outline: none !important;
    box-shadow: none !important; /* Убрал тени, чтобы линии были бритвенно чистыми */
}
        :root { --t: 0.4s; --btn: 56px; }
        
        /* Полная изоляция интерфейса */
        * { 
            -webkit-touch-callout: none; 
            -webkit-user-select: none; 
            user-select: none; 
            -webkit-tap-highlight-color: transparent; 
            box-sizing: border-box; 
            border-radius: 0 !important; 
            border: 0 !important; 
            outline: none; 
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; overflow: hidden; 
            background: #000; font-family: "Times New Roman", serif; font-size: 16px; 
            cursor: default;
        }

        .app-container { display: grid; height: 100vh; grid-template-columns: 1fr 0fr 2fr; transition: grid-template-columns var(--t) ease; }
        .pane { overflow-y: auto; position: relative; }

#area-concept {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden; /* Скроллить будем только внутренний контент */
}

#concept-content {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
}




        /* Area A: Navigator */
        #area-a { padding: 25px; z-index: 10; }

        /* Central Column - Состоит из Area B, C и D */
        .central-col { 
            display: grid; 
            grid-template-rows: 1fr 0fr 0fr; /* Изначально видна только Area B */
            overflow: hidden; 
            background: transparent; 
            transition: grid-template-rows var(--t) ease; 
        }
        
        /* Активация Area C и D */
        .central-col.view-active { grid-template-rows: auto 1fr auto; }

        /* Area B: Sub-Menu */
        #area-b { padding: 25px; display: flex; flex-direction: column; gap: 12px; }
        
        /* Area C: Viewport */
        #area-c { position: relative; padding: 0; overflow: hidden; background: #000; display: none; }
        .view-active #area-c { display: block; }
        #viewframe { width: 100%; height: 100%; background: #fff; }

        /* Area D: Action Bar */
        #area-d { display: none; grid-template-columns: 1fr 1fr; height: 60px; }
        .view-active #area-d { display: grid; }

        /* UI Кнопки */
        .master-btn { 
            position: absolute; width: var(--btn); height: var(--btn); 
            border-radius: 50% !important; background: #222; color: #fff; 
            cursor: pointer; z-index: 2000; display: none; 
            align-items: center; justify-content: center; 
            font-size: 9px; letter-spacing: 1px; 
            border: 1px solid #444 !important; 
        }
        .master-btn.visible { display: flex; }
        #closeBtn { top: 50%; left: 50%; transform: translate(-50%, -50%); }

#openBtn { 
    top: 50%; 
    left: 50%; 
    transform: translate(-50%, -50%); 
    background: #fff; 
    color: #000;
    /* Кнопка теперь — идеально чистый белый круг без окантовок */
}

        /* Элементы меню */
        .menu-main { cursor: pointer; display: block; padding: 10px 0; font-size: 1.2rem; transition: opacity 0.2s; }
        .menu-sub { cursor: pointer; display: block; padding: 5px 0; font-size: 0.95rem; opacity: 0.6; transition: opacity 0.2s; }
        .menu-sub:hover { opacity: 1; }
        
        .light { background: #fff; color: #000; }
        .dark { background: #000; color: #fff; }
        .active-sel { opacity: 1; font-weight: bold; }
        
        .nav-link { display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 11px; letter-spacing: 2px; }
  

.donate-box { 
    padding: 25px;
    display: flex; 
    flex-direction: column; 
    gap: 10px; 
    align-items: flex-start; /* Выравнивание по левому краю в стиле навигатора */
}

.donate-btn { 
    color: rgba(255,255,255,0.4); 
    border: 1px solid rgba(255,255,255,0.2) !important; /* Принудительно возвращаем рамку для кнопки */
    padding: 8px 20px; 
    background: transparent; 
    cursor: pointer; 
    font-size: 11px; 
    transition: 0.3s; 
    letter-spacing: 1px;
}

.donate-btn:hover { background: #fff; color: #000; }

.crypto-info { 
    display: none; 
    flex-direction: column; 
    gap: 8px; 
}

.crypto-address-display { 
    font-size: 10px; 
    color: #fff; 
    background: rgba(255,255,255,0.05); 
    padding: 10px; 
    border: 1px dashed #444 !important; 
    cursor: copy; 
    word-break: break-all; 
    max-width: 220px; 
}

  </style>
</head>
<body oncontextmenu="return false;"> <div class="master-btn" id="closeBtn" onclick="resetUI()">CLOSE</div>

<div class="app-container" id="main">
    <div class="pane light" id="area-a">
        <div class="menu-main" onclick="openSection('monolith', this)">Linguistic Monolith</div>
        <div class="menu-main" onclick="openSection('lab', this)">Laboratory</div>
        <div class="menu-main" onclick="openSection('archive', this)">Archive</div>
    </div>

    <div class="central-col" id="center">
        <div class="pane light" id="area-b"></div>
        
        <div class="pane dark" id="area-c">
            <iframe id="viewframe"></iframe>
            <div class="master-btn" id="openBtn" onclick="fullView()">OPEN</div>
        </div>

        <div id="area-d">
            <a href="index.html" class="pane light nav-link">Home</a>
            <a href="https://t.me/eugenebox" target="_blank" class="pane dark nav-link">FEEDBACK</a>
        </div>
    </div>

    <div class="pane dark" id="area-concept">
    <div style="padding: 25px; min-height: calc(100% - 120px);" id="concept-content">Concept description soon…</div>
    
    <div class="donate-box">
        <button class="donate-btn" onclick="toggleDonate()">Support</button>
        <div id="cryptoInfo" class="crypto-info">
            <span style="font-size: 11px; color: #999;">Network: Tron (TRC20)</span>
            <div id="cryptoAddr" class="crypto-address-display" onclick="copyToClipboard()">TBL5FqL1zSGdP9k6nGkakxmPM26ttcJ496</div>
            <span id="copyHint" style="font-size: 10px; color: #777;">Click to copy address</span>
        </div>
    </div>
</div>


<script>
const db = {
    'monolith': {
        desc: 'Linguistic Monolith description soon…',
        links: [
            {t: 'Spark', url: 'spark.html'}, {t: 'Book', url: 'book.html'},
            {t: 'Flash', url: 'flash.html'}, {t: 'Wire', url: 'wire.html'},
{t: 'Clock', url: 'clock.html'}
        ]
    },
    'lab': {
        desc: 'Laboratory description soon…',
        links: [
            {t: 'Cube', url: 'cube.html'}, {t: 'Size', url: 'size.html'},
            {t: 'Code', url: 'code.html'}, {t: 'Peer', url: 'peer.html'}
        ]
    },
    'archive': {
        desc: 'Archive description soon…',
        links: [
            {t: 'Home', url: 'index.html'}, 
        ]
    }
};

let activeUrl = "";

function openSection(id, el) {
    const sec = db[id];
    document.querySelectorAll('.menu-main').forEach(m => m.classList.remove('active-sel'));
    el.classList.add('active-sel');

    const areaB = document.getElementById('area-b');
    areaB.innerHTML = sec.links.map(l => 
        `<div class="menu-sub" onclick="previewPage('${l.url}')">${l.t}</div>`
    ).join('');

    document.getElementById('concept-content').innerText = sec.desc;

    // Схлопываем Area C и D при смене раздела, если они были открыты
    document.getElementById('center').classList.remove('view-active');
    document.getElementById('openBtn').classList.remove('visible');
    
    // Расширяем колонку для подменю
    document.getElementById('main').style.gridTemplateColumns = '1fr 1.2fr 2fr';
    document.getElementById('closeBtn').classList.add('visible');
}

function previewPage(url) {
    activeUrl = url;
    const frame = document.getElementById('viewframe');
    const center = document.getElementById('center');
    
    frame.src = url;
    center.classList.add('view-active'); // Магия проявления Area C и D
    document.getElementById('openBtn').classList.add('visible');
}

function fullView() {
    if (activeUrl) window.location.href = activeUrl;
}

function resetUI() {
    document.getElementById('main').style.gridTemplateColumns = '1fr 0fr 2fr';
    document.getElementById('center').classList.remove('view-active');
    document.getElementById('closeBtn').classList.remove('visible');
    document.getElementById('openBtn').classList.remove('visible');
    document.querySelectorAll('.menu-main').forEach(m => m.classList.remove('active-sel'));
    document.getElementById('concept-content').innerText = "Concept description soon…";
    document.getElementById('viewframe').src = "";
}

// Запрет выделения через JS для старых браузеров
document.onselectstart = function() { return false; };

function toggleDonate() { 
    const info = document.getElementById("cryptoInfo"); 
    info.style.display = (info.style.display === "flex") ? "none" : "flex"; 
}

function copyToClipboard() {
    const addr = document.getElementById("cryptoAddr");
    const text = addr.innerText;
    navigator.clipboard.writeText(text).then(() => {
        const oldText = addr.innerText;
        addr.innerText = "Copied!";
        addr.style.color = "#00ff00";
        setTimeout(() => {
            addr.innerText = oldText;
            addr.style.color = "#fff";
        }, 1500);
    });
}

function toggleDonate() { 
    const info = document.getElementById("cryptoInfo"); 
    const isOpening = (info.style.display !== "flex");
    
    info.style.display = isOpening ? "flex" : "none"; 

    if (isOpening) {
        // Даем браузеру мгновение на отрисовку, затем скроллим
        setTimeout(() => {
            info.scrollIntoView({ behavior: 'smooth', block: 'end' });
        }, 50);
    }
}

</script>
</body>
</html>
