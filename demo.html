<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="manifest" href="manifest.json">
    <style>
        /* Global Reset */
        * { 
            border: 0 !important; 
            border-width: 0 !important;
            outline: none !important;
            box-shadow: none !important;
            -webkit-touch-callout: none; 
            -webkit-user-select: none; 
            user-select: none; 
            -webkit-tap-highlight-color: transparent; 
            box-sizing: border-box; 
            border-radius: 0 !important; 
        }

        :root { --t: 0.4s; --btn: 56px; }

        body, html { 
            margin: 0; padding: 0; height: 100%; overflow: hidden; 
            background: #000; font-family: "Times New Roman", serif; font-size: 16px; 
            cursor: default;
        }

        .app-container { display: grid; height: 100vh; grid-template-columns: 1fr 0fr 2fr; transition: grid-template-columns var(--t) ease; }
        .pane { position: relative; }

        /* Area A: Navigator */
        #area-a { padding: 25px; z-index: 10; overflow-y: auto; }

        /* Central Column */
        .central-col { 
            display: grid; 
            grid-template-rows: 1fr 0fr 0fr; 
            overflow: hidden; 
            background: transparent; 
            transition: grid-template-rows var(--t) ease; 
        }
        .central-col.view-active { grid-template-rows: auto 1fr auto; }

        #area-b { padding: 25px; display: flex; flex-direction: column; gap: 12px; overflow-y: auto; }
        
        #area-c { position: relative; padding: 0; overflow: hidden; background: #000; display: none; }
        .view-active #area-c { display: block; }
        #viewframe { width: 100%; height: 100%; background: #fff; }

        #area-d { display: none; grid-template-columns: 1fr 1fr; height: 60px; }
        .view-active #area-d { display: grid; }

        /* Right Column: Concept & Support */
        #area-concept { display: flex; flex-direction: column; height: 100%; overflow: hidden; }
        #concept-content { flex: 1; overflow-y: auto; padding: 25px; line-height: 1.6; }

        /* UI Elements */
        .master-btn { 
            position: absolute; width: var(--btn); height: var(--btn); 
            border-radius: 50% !important; background: #222; color: #fff; 
            cursor: pointer; z-index: 2000; display: none; 
            align-items: center; justify-content: center; 
            font-size: 9px; letter-spacing: 1px; 
            border: 1px solid #444 !important; 
        }
        .master-btn.visible { display: flex; }
        #closeBtn { top: 50%; left: 50%; transform: translate(-50%, -50%); }
        #openBtn { top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fff; color: #000; }

        .menu-main { cursor: pointer; display: block; padding: 10px 0; font-size: 1.2rem; transition: opacity 0.2s; }
        .menu-sub { cursor: pointer; display: block; padding: 5px 0; font-size: 0.95rem; opacity: 0.6; transition: opacity 0.2s; }
        .menu-sub:hover { opacity: 1; }
        
        .light { background: #fff; color: #000; }
        .dark { background: #000; color: #fff; }
        .active-sel { opacity: 1; font-weight: bold; }
        .nav-link { display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 11px; letter-spacing: 2px; }

        /* Support Section */
        .donate-box { padding: 25px; flex-shrink: 0; border-top: 1px solid rgba(255,255,255,0.1) !important; }
        .donate-btn { 
            color: rgba(255,255,255,0.4); 
            border: 1px solid rgba(255,255,255,0.2) !important; 
            padding: 8px 20px; background: transparent; cursor: pointer; 
            font-size: 11px; transition: 0.3s; letter-spacing: 1px;
        }
        .donate-btn:hover { background: #fff; color: #000; }
        .crypto-info { display: none; flex-direction: column; gap: 8px; margin-top: 15px; }
        .crypto-address-display { 
            font-size: 10px; color: #fff; background: rgba(255,255,255,0.05); 
            padding: 10px; border: 1px dashed #444 !important; cursor: copy; word-break: break-all; 
        }
    </style>
</head>
<body oncontextmenu="return false;">
    <div class="master-btn" id="closeBtn" onclick="resetUI()">CLOSE</div>

    <div class="app-container" id="main">
        <div class="pane light" id="area-a">
            <div class="menu-main" onclick="openSection('monolith', this)">Linguistic Monolith</div>
            <div class="menu-main" onclick="openSection('lab', this)">Laboratory</div>
            <div class="menu-main" onclick="openSection('archive', this)">Archive</div>
        </div>

        <div class="central-col" id="center">
            <div class="pane light" id="area-b"></div>
            <div class="pane dark" id="area-c">
                <iframe id="viewframe"></iframe>
                <div class="master-btn" id="openBtn" onclick="fullView()">OPEN</div>
            </div>
            <div id="area-d">
                <a href="index.html" class="pane light nav-link">HOME</a>
                <a href="https://t.me/eugenebox" target="_blank" class="pane dark nav-link">FEEDBACK</a>
            </div>
        </div>

        <div class="pane dark" id="area-concept">
            <div id="concept-content">Select a directive to begin system analysis.</div>
            <div class="donate-box">
                <button class="donate-btn" onclick="toggleDonate()">Support</button>
                <div id="cryptoInfo" class="crypto-info">
                    <span style="font-size: 10px; color: #666; letter-spacing: 1px;">USDT (BEP20)</span>
                    <div id="cryptoAddr" class="crypto-address-display" onclick="copyToClipboard()">0x769192cea8fbb7207f086d95fd653ebc3adb0c72</div>
                    <span id="copyHint" style="font-size: 9px; color: #444;">Click to copy address</span>
                </div>
            </div>
        </div>
    </div>

<script>
const db = {
    'monolith': {
        desc: 'A toolkit for dissecting meaning. Advanced linguistic metrics, cognitive visualization, and structural text processing via Metrics, Flash, and Orbit modules.',
        links: [{t: 'Spark', url: 'spark.html'}, {t: 'Book', url: 'book.html'}, {t: 'Flash', url: 'flash.html'}, {t: 'Wire', url: 'wire.html'}, {t: 'Clock', url: 'clock.html'}]
    },
    'lab': {
        desc: 'A digital proving ground. Exploring 3D environments, code architecture, and peer-to-peer interaction mechanics through experimental interfaces.',
        links: [{t: 'Cube', url: 'cube.html'}, {t: 'Size', url: 'size.html'}, {t: 'Code', url: 'code.html'}, {t: 'Peer', url: 'peer.html'}]
    },
    'archive': {
        desc: 'The systemâ€™s foundation. A structured repository of finalized concepts and the primary entry point for core protocols.',
        links: [{t: 'Home', url: 'index.html'}]
    }
};

let activeUrl = "";
const defaultMsg = "Select a directive to begin system analysis.";

function openSection(id, el) {
    const sec = db[id];
    document.querySelectorAll('.menu-main').forEach(m => m.classList.remove('active-sel'));
    el.classList.add('active-sel');

    document.getElementById('area-b').innerHTML = sec.links.map(l => 
        `<div class="menu-sub" onclick="previewPage('${l.url}')">${l.t}</div>`
    ).join('');

    document.getElementById('concept-content').innerText = sec.desc;
    document.getElementById('center').classList.remove('view-active');
    document.getElementById('openBtn').classList.remove('visible');
    document.getElementById('main').style.gridTemplateColumns = '1fr 1.2fr 2fr';
    document.getElementById('closeBtn').classList.add('visible');
}

function previewPage(url) {
    activeUrl = url;
    document.getElementById('viewframe').src = url;
    document.getElementById('center').classList.add('view-active');
    document.getElementById('openBtn').classList.add('visible');
}

function fullView() { if (activeUrl) window.location.href = activeUrl; }

function resetUI() {
    document.getElementById('main').style.gridTemplateColumns = '1fr 0fr 2fr';
    document.getElementById('center').classList.remove('view-active');
    document.querySelectorAll('.master-btn').forEach(b => b.classList.remove('visible'));
    document.querySelectorAll('.menu-main').forEach(m => m.classList.remove('active-sel'));
    document.getElementById('concept-content').innerText = defaultMsg;
    document.getElementById('viewframe').src = "";
    document.getElementById('cryptoInfo').style.display = "none";
}

function toggleDonate() { 
    const info = document.getElementById("cryptoInfo"); 
    const isOpening = (info.style.display !== "flex");
    info.style.display = isOpening ? "flex" : "none"; 
    if (isOpening) setTimeout(() => info.scrollIntoView({ behavior: 'smooth', block: 'end' }), 50);
}

function copyToClipboard() {
    const addr = document.getElementById("cryptoAddr");
    navigator.clipboard.writeText(addr.innerText).then(() => {
        const oldText = addr.innerText;
        addr.innerText = "Copied!";
        addr.style.color = "#00ff00";
        setTimeout(() => { addr.innerText = oldText; addr.style.color = "#fff"; }, 1500);
    });
}

document.onselectstart = () => false;
</script>
</body>
</html>
